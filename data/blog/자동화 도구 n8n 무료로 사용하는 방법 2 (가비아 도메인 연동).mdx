---
title: 자동화 도구 n8n 무료로 사용하는 방법 2 (가비아 도메인 연동)
date: '2025-01-01 17:00:00'
tags: ['n8n']
draft: false
summary: n8n을 무료로 사용하는 방법 중 두번째 단계 가비아 도메인 연동 방법을 알려드릴게요.
---

## 시작하며

우리는 지난 강의에서 24시간 운영되는 컴퓨터 EC2에 n8n을 설치를 완료했죠. 그리고 미리 설정한 고정 IP로 주소창에 입력하여 접속하면 접근할 수 없다는 n8n 경고문을 보게됐죠. 긍정적으로 생각하면 우리는 어찌됐든 n8n을 잘 설치했고, 잘 설치한 n8n에 접근까지 했다는 거죠! n8n의 경고문은 보안적인 문제 때문에 발생한거에요. 이 경고문을 해결하려면 올바른 도메인만 연결하면 해결이 되죠.

**n8n 자체 서버 호스팅 강의는 크게 2단계로 진행돼요. 딱 이 2단계만 진행하면 끝이에요. 🥳**

1. AWS EC2에 n8n 설치 ✅
2. 도메인 연동

이 강의에서는 n8n을 무료로 사용할 수 있도록 자체 서버로 호스팅하는 방법 중 두번째 단계를 알려드릴게요. 도메인 구매하는 방법은 여러가지이지만 국내에서 가장 인지도가 높은 가비아를 이용할게요. 다른 도메인 서비스를 이용하더라도 모두 있는 설정이니 참고하시면 좋아요.

---

## 도메인 n8n 연동 방법

도메인 n8n 연동 방법은 총 3단계 과정으로 진행돼요. **딱 이 2단계만 진행하면 EC2에 올바른 도메인을 연동 할 수 있어요! 🥳**

1. 도메인 만들기
2. EC2 도메인 연동하기

자 그럼 굳이 시작해볼까요?

### 1. 도메인 만들기

#### 1.1 가비아에서 도메인 구매하기

가비아에서 도메인 구매하는 방법 (추후 추가 필요)

#### 1.2 서브도메인 개념

이제 도메인을 구매하였고, n8n에 연결할 서브도메인을 만들어 볼게요. 도메인에는 루트도메인과 서브도메인으로 구분지어 사용할 수 있는데요. 루트 도메인, 서브 도메인의 개념을 간단하게 네이버 서비스로 예를 들어 볼게요.

```
# 네이버 홈 페이지 주소
naver.com

# 네이버 뉴스 페이지 주소
news.naver.com

# 네이버 증권 페이지 주소
finance.naver.com
```

네이버 홈, 네이버 뉴스, 네이버 증권 페이지의 주소는 서로 다르지만 하나의 규칙이 있어요. 바로 모든 주소에 `naver.com` 주소가 포함되어 있죠. 여기서 루트 도메인이 바로 `naver.com` 이며, 서브 도메인은 `news`, `finance` 입니다. **루트 도메인을 기준으로 news, finance, shopping 등 수 많은 서브 도메인 주소를 생성할 수 있죠.** 지금 우리는 EC2에 있는 n8n 페이지에 도메인 주소를 부여해야하는데 루트 도메인을 부여해도 되지만, 서브 도메인을 생성하여 다양하게 사용할 수 있으므로 서브도메인을 생성할 거에요.

#### 1.3 서브도메인 생성

1. 가비아 홈 페이지에서 오른쪽 상단에 있는 My가비아 버튼을 클릭하여 대시보드 페이지로 이동합니다.
2. 대시보드 페이지에서 상단에 있는 서비스 관리 메뉴를 클릭하여 서비스 관리 페이지로 이동합니다.
3. 서비스 관리 페이지에서 서브 도메인을 생성할 루트 도메인 오른쪽에 있는 관리 버튼을 클릭하여 관리 페이지로 이동합니다.
4. 관리 페이지 DNS 정보 영역에서 DNS 레코드 설정에서 오른쪽에 있는 설정 버튼을 클릭하여 DNS 레코드 설정 페이지로 이동합니다.
5. DNS 설정 테이블에서 원하는 서브 도메인을 생성하려는 루트 도메인 오른쪽에 있는 설정 버튼을 클릭하여 DNS 관리 페이지로 이동합니다.
6. DNS 관리 페이지에서 DNS 설정 글자 오른쪽에 있는 레코드 수정 버튼을 클릭하여 DNS 레코드 수정 모달을 띄웁니다.
7. DNS 레코드 수정 모달에서 왼쪽 하단에 있는 레코드 추가 버튼을 클릭하여 레코드 생성을 시작합니다.
8. 타입은 A, 호스트는 n8n, 값/위치는 EC2의 퍼블릭 IP 주소를 입력하고 오른쪽에 있는 확인 버튼을 클릭합니다.
   - 퍼블릭 IP 주소는 AWS > EC2 인스턴스 목록에 퍼블릭 IPv4 주소에 있습니다.
9. DNS 레코드 테이블에 올바르게 입력한 값이 적용되었으면 오른쪽 하단에 있는 저장 버튼을 클릭합니다.

### 2. EC2 도메인 설정

### 1. n8n 설정

#### 1.1 n8n.service 파일 개념

도메인을 연동하기 전에 EC2에 설치된 n8n에 외부 접근이 가능하게 n8n.service 파일에 설정을 해야해요. n8n.service 파일은 EC2가 자동으로 n8n을 실행 및 관리하기 위해 설정이 필요해요.

#### 1.2 n8n 설정 방법

1. `sudo nano /etc/systemd/system/n8n.service`
   - n8n.service 파일의 내용은 아래 2.2 n8n.service 설정 내용을 참고해주세요.
2. n8n.sercie 파일 내용을 추가하고 Ctrl+X ➡️ Y ➡️ Y ➡️ 엔터키를 누르시면 됩니다.
3. `sudo systemctl daemon-reload`
   - 시스템을 새로 로드하여 변경사항을 적용하는 명령어입니다.
4. `sudo systemctl restart n8n`
   - n8n을 재시작하는 명령어입니다.

#### 1.3 n8n.service 설정

```
[Unit]
Description=n8n  # 서비스 설명
After=network.target  # 네트워크가 활성화된 후 n8n이 시작됩니다.

[Service]
ExecStart=/usr/bin/n8n  # n8n 실행 경로 (필수, 실제 경로로 수정 필요)
Restart=always  # n8n이 비정상 종료되면 자동 재시작
User=ubuntu  # n8n을 실행할 사용자 (EC2 기본 사용자)
Environment="N8N_HOST=0.0.0.0"  # 외부 접근 허용 (필수)
Environment="N8N_PORT=5678"  # n8n 포트 설정

[Install]
WantedBy=multi-user.target  # 부팅 시 자동으로 시작
```

### 2. NGINX 설치

#### 2.1 NGINX 개념

가비아에서 구매한 도메인에 고정 IP를 연결했지만 EC2에서 NGINX를 설치해야지만 n8n까지 연결을 시켜줄 수 있어요. NGINX는 웹사이트를 빠르고 안정적으로 운영할 수 있게 도와주는 프로그램이에요. 사람들이 웹사이트에 접속하면 NGINX는 요청을 받아 필요한 파일을 찾아 사용자에게 보여줘요. 동시에 많은 사람이 들어와도 NGINX는 요청을 나누어 서버가 멈추지 않도록 해줘요. 마치 공연장에서 안내원이 사람들을 적절하게 자리에 안내하는 것과 비슷해요. 덕분에 웹사이트는 끊기지 않고 빠르게 작동해요. 웹사이트를 더 안전하고 효율적으로 운영하고 싶다면 NGINX는 꼭 필요한 프로그램이에요.

#### 2.2 NGINX 설치

1. AWS EC2 인스턴스에서 우리의 n8n 인스턴스를 클릭하여 인스턴스 페이지로 이동합니다.
2. 인스턴스 페이지 오른쪽 상단에 있는 연결 버튼을 클릭하여 인스턴스에 연결 페이지로 이동합니다.
3. 인스턴스 연결 페이지 EC2 인스턴스에 연결 영역에서 오른쪽 하단에 있는 연결 버튼을 클릭하여 연결 화면으로 진입합니다.
4. `sudo apt update`
   - EC2에 있는 패키지들을 최신 버전으로 업데이트 하는 명령어입니다.
5. `sudo apt install nginx -y`
   - EC2에 nginx를 설치하는 명령어입니다.

---

## 3. SSL 설정

#### 3.1 SSL 개념

SSL(보안 소켓 계층)은 인터넷에서 데이터를 안전하게 주고받기 위한 암호화 기술이에요. 웹사이트에서 정보를 입력하거나 결제할 때, SSL은 데이터를 암호화해서 해커가 중간에서 훔쳐보지 못하도록 보호해줘요. 주소창에 🔒 자물쇠 아이콘이 보이면, 그 사이트는 SSL로 안전하게 보호되고 있다는 뜻이에요. 덕분에 사용자는 안심하고 개인정보를 입력할 수 있고, 기업은 고객의 신뢰를 얻을 수 있어요. SSL은 안전하고 믿을 수 있는 웹 환경을 만드는 데 꼭 필요한 기술이에요.

#### 3.2 SSL 적용

1. `sudo apt install certbot python3-certbot-nginx -y`
2. 위 명령어를 입력하면 첫번째 질문으로 이메일주소를 적으라고 합니다. 이메일을 입력하고 엔터키를 누릅니다.
3. 이메일을 적고 엔터키를 누르면 약관동의에 관한 질문이 2번 나옵니다. 모든 질문에 y를 입력하고 엔터키를 누릅니다.
4. `sudo certbot renew --dry-run`
   - Let’s Encrypt SSL 인증서를 갱신할 때, 실제 갱신 없이 테스트로 시뮬레이션하는 명령어입니다.

---

## 마치며

우리는 이제 도메인을 만들고, 도메인을 EC2 n8n에 연동까지 완료했어요. 이제 한번 주소창에 https://[여러분의 서브도메인 주소]를 입력하면 짜잔 n8n 로그인화면이 보이게 되죠! 고생하셨어요. 이제 여러분은 오직 아주 저렴한 서버 운영비로만 n8n의 비싼 유료 기능을 포함한 모든 기능을 무제한으로 사용할 수 있게 됐어요! 🥳

정말 고생하셨고 이제 n8n으로 여러분의 상상의 나래를 펼쳐보세요!
